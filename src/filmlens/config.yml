# FilmLens Multi-Label Classifier Configuration

app_config:
  package_name: filmlens
  pipeline_save_file: multilabel_classifier_v
  mlflow_tracking_uri: http://localhost:5000
  mlflow_experiment_name: multilabel_triggers
  mlflow_artifact_location: null  # null = usa el default del servidor MLflow

data_config:
  train_data_file: processed/movies_imdb_sample/train_set.csv
  text_column: description
  drop_na_columns:
    - description
  test_size: 0.2
  random_state: 42
  stratify_by: genre
  
  # Multi-label targets
  target_columns:
    - has_suicide
    - has_substance_abuse
    - has_strong_language
    - has_sexual_content
    - has_violence

feature_config:
  # TF-IDF parameters (increased since we're not using keywords as features)
  tfidf:
    max_features: 500  # Increased from 100
    ngram_range: [1, 3]  # Added trigrams
    min_df: 3  # Reduced from 5
    max_df: 0.8
    stop_words: english
  
  # Keyword categories (used only for label creation in train_pipeline.py)
  keyword_categories:
    - suicide
    - substance_abuse
    - strong_language
    - sexual_content
    - violence
  
  # Genre encoding
  use_genre_features: true

model:
  algorithm: lightgbm
  
  algorithms:
    random_forest:
      n_estimators: 150
      max_depth: 25
      min_samples_split: 5
      min_samples_leaf: 2
      max_features: sqrt
      class_weight: balanced
      random_state: 42
      n_jobs: -1
      verbose: 0
    
    lightgbm:
      n_estimators: 200
      learning_rate: 0.05
      max_depth: -1
      num_leaves: 31
      random_state: 42
      n_jobs: -1
      verbose: -1
    
    logistic_regression:
      C: 1.0
      penalty: l2
      solver: lbfgs
      max_iter: 1000
      class_weight: balanced
      random_state: 42
      n_jobs: -1
      verbose: 0

metrics_config:
  primary_metric: f1_macro
  additional_metrics:
    - hamming_loss
    - subset_accuracy
    - f1_micro
    - f1_per_label
